<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">

<HTML>
  <HEAD>
    <meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
    <META NAME="Author" CONTENT="Hubert de Fraysseix">
    <TITLE>PIGALE User Manual</TITLE>
    <link type="text/css" rel="stylesheet"  href="style.css">
  </HEAD>

<body bgcolor="#D0F0D0">

<A NAME="home"> </A>

<table class="c2"  ALIGN="center">
<tr>
<td> <IMG SRC="./icones/misspost.png" height= "100" alt="pigale"></td>
<td class="c2"><b>Using Pigale</b></td>
<!-- sourceforge
<td><A href="http://sourceforge.net"> 
<IMG src="http://sourceforge.net/sflogo.php?group_id=50880&type=5" width="210" height="62" border="0" alt="SourceForge Logo"></A>
</td>
sourceforge  -->
</tr>
</table>

<hr>
<A HREF="index.html">HOME</A>
<ul>
<li> <A HREF="manual.html#OV">Overview</A></li>
<li> <A HREF="manual.html#set">Settings</A></li>
<li> <A HREF="manual.html#GE">Using the Editor</A></li>
<li> <A HREF="manual.html#zoom">Zoom</A></li>
<li> <A HREF="manual.html#macro">Using Macros</A></li>
<li> <A HREF="manual.html#tgf">Input files:TGF, GRAPHML and ASCII formats</A></li>
<li> <A HREF="manual.html#gen">Generating graphs</A></li>
<li> <A HREF="manual.html#3d">Embedding a graph  in space</A></li>
</ul>

<hr>

<H2> <A NAME="OV">O</A>verview </H2>
<h3>Starting Pigale</h3>
<b>Pigale</b> first reads the <A HREF="manual.html#set">settings</A>
 that have been saved or the default ones
<br>
The input and output files can be overridden by the arguments passed to
 <b>Pigale</b>.
<br>
The valid flags are:

<table >
<tr>
<td><b> -i </b></td><td> <tt> input-filename </tt></td><td></td><td></td><td></td><td></td>
</tr><tr>
<td><b> -o </b> </td><td><tt> output-filename </tt></td>
</tr><tr>
 <td><b> -m </b></td><td> <tt> macro-filename </tt></td>
</tr><tr>
<td><b> -s </b></td><td> to start Pigale as a server.
</table>

The filenames must include the paths, which will determine the directories where the files are loaded and saved.
<br>

The first time you execute <b>Pigale</b>, you may be asked to give a location of input files and the location of this manual.
<br>

Graphs are either coded as <A HREF="manual.html#tgf"><b>tgf</b></A> files or
<A HREF="manual.html#tgf"><b>ASCII</b></A> files.
<br>
<br>

The arrows of the tool bar let you load the next
 or previous graph of the current tgf file or reload the current one.<br>

<table>
<tr>
<td><IMG SRC="icones/sleft.png" alt="left"></td>
<td><IMG SRC="icones/reload.png" alt="reload"></td>
<td><IMG SRC="icones/sright.png" alt="right"></td>
</tr>
</table>
On the lowest band of the main window is displayed the current tgf input and output file.<br>

In Pigale there always one active graph which is displayed in the <b>Graph editor</b> window.
That graph can be saved, modified or displayed by different
algorithms. A copy is created for any display except forthe <b>Graph editor</b> window.

<h3>Windows</h3>
Under the menus, there is a tool bar that you can move around or hide.<br>
Notice that some menus are not available if the current graph does not
fulfill the right properties for a given algorithm.<br>

If you see a small manual " <IMG SRC="icones/xman.png" alt = "xman"> " at the left of a menu item,
 you can get a small help using the WhatisThis button <IMG SRC="icones/help.png"  alt="xman"><br>
The windows next, to the <b>Graph editor</b> window, are used to show
different views of a graph and this short manual.<br>
They can be printed (except the one for 3d embeddings) or exported as png images.<br>
The top right window is for messages (properties of the graph, warnings, etc.).
Just under are displayed the main properties of the graph, all of them are maintained
in real time.

<h3><A NAME="set">P</A>igale settings</h3>
Among other things, the <b>Settings</b> menu allows you to:
<ul>
<li> enable <b>debug</b> to increase the verbosity of Pigale and print more messages in <tt>log.txt</tt>,</li>
<li> enable or disable the <A HREF="#undo"><b>undo</b></A> feature,</li>
<li> define the <b>Pigale colors</b> used by Pigale</li>
<li> define the <b>limits</b> of Pigale: i.e. define the maximum number of vertices above which graph are not displayed and slow algorithms are not performed</li>
<li> define what the <b>vertex show</b> i.e. their labels or their index (or whatever the user programmed),</li>
<li> define some <b>embed options</b>.</li>
<li> define the <b>distance</b> used to embed the graph in <b>R<sup>n-1</sup></b>.</li>
<li> save the following:
<ul>
<li> all the settings of this menu,</li>
<li> the generator settings,</li>
<li> the macro playback settings,</li>
<li> the macro pause delay setting,</li>
<li> the input and output tgf files,</li>
<li> the  documentation directory,</li>
<li> the image directory,</li>
<li> the geometry and colors of the screen,</li>
<li> the transparency of facets and opacity of images,</li>
<li> the printer settings.</li>
</ul></li>
</ul>
The dashed line at the top of the settings menu, is used to create a floating settings menu.

<br><A HREF="manual.html#home"><em>top</em></A>



<HR><H2> <A NAME="GE">U</A>sing the editor </H2>
<h3>Mouse Actions </h3>
By default, the <b>left button</b> of the mouse is use to move vertices.<br>
Other actions can be selected, by clicking on the radio buttons (Left Button).<br>
<ul>
<li><b>Col/Thick:</b> Color  (edges and vertices) or thickness (edges)</li>
<li><b>Add/Del:</b> Add or delete  (edges and vertices)</li>
<li><b>Orient:</b> Orient  (edges)</li>
<li><b>Move:</b> Move  (vertices)</li>
<li><b>Bis./Con.:</b> Bisect or contract  (edges)</li>
<li><b>Ext.Face/extbrin:</b> Define the exterior face or the extbrin</li>
<li><b>Label/Reset all:</b> Redefine the label of a vertex/Reset all labels as the indices</li>
</ul>
If the <b>shift key</b> is pressed, the actions are toggled the following way:
<ul>
<li> Add <b>/ Del</b> </li>
<li> Orient <b>/ Suppress the orientation </b></li>
<li> Move a vertex <b>/Move all vertices of a given color </b> </li>
<li> Bisection <b>/ Contraction </b></li>
<li> Exterior face <b>/ extbrin </b></li>
</ul>
If the <b>alt key</b> is pressed, the action is always <b>Move a vertex</b>

<br>

<h4>Other actions:</h4>


<ul> <li><b>Mouse</b></li>
	<ul>
	<li> <b>Add  + Control left button </b> to duplicate the colored subgraph </li>
	<li> <b>Add  + Shift Control left button </b> to duplicate the colored subgraph
				    and add edges between corresponding vertices. </li>
	<li> <b>middle button</b>  to move vertices of the current color </li>
	<li> <b>right button</b>  to display some information on edges and vertices</li>
   </ul>
</ul>
<ul><li><b>Trackpad</b></li>

  <ul>
	<li> <b>Add  + Command  </b> </b> to duplicate the colored subgraph </li>
	<li> <b>Add  + Control + Command</b> to duplicate the colored subgraph
				    and add edges between corresponding vertices </li>
	<li> <b>Move + Shift </b> to move vertices of the current color </li>
	<li> <b>Control + clic</b> to display some information on edges and vertices</li>
  </ul>
</ul>  
Mac <b>COMMAND</b> <-> Windows <b> CONTROL</b><br>
Mac <b>CONTROL</b> <-> Windows <b> ALT</b>

<h3> Colors and Thickness</h3>
The 16 upper small colored squares at the right of the editing window,
defines the brush color which appears with a bigger square. <br>
The brush color defines the color of the vertices
when they are created, re colored or define the ones to be deleted.<br>
The 16 lower squares have the same functionality for edges.<br>
The last 3 squares are used to define the thickness of the edges.


<h3> Drawing on a grid</h3>
The grid size is defined by the slider position.<br>
When a graph is loaded, Pigale computes the minimum size grid on which the graph can be drawn, without
moving the vertices.
When you click on <b> Force G</b>, Pigale will force all the vertices to fall on grid points,
checking overlapping of vertices and checking that the map is unchanged.

The <b>undo G</b> button, let you come back to the previous state.
When you click on <b>Fit grid</b>, you are forced to
move or create vertices on grid points.

<H3><A NAME="image"> Load Image</A></H3>
A picture (of a graph) is loaded in the background of the editor. 
Its size is adjusted to fit the editor window.
The left slider lets you reduce the image  opacity so that you can easily create graph 
corresponding to the picture.
You may have to remove isolated vertices, isthmus and parallel edges.

<H3><A NAME="clear"> Clear Image</A></H3>
Removes the background image.

<h3> <A NAME="undo"> Undo/Redo</A></h3>
If this function is enabled, a copy of the current graph is appended each time a program
adds or delete edges or one manually delete vertices.<br>
One can always <b>Redo</b> an <b>undo</b>.<br>
When a new graph is loaded, all the copies are destroyed and the current graph is saved.<br>
The save icon let you manually append a copy.

<table>
<tr>
<td><IMG SRC="icones/sleftarrow.png" alt="leftarrow"></td>
<td><IMG SRC="icones/sfilesave.png" alt="save"></td>
<td><IMG SRC="icones/srightarrow.png"alt="rightarrow"></td>
</tr><tr>
<td><b>Undo</b></td> <td><b>Save</b></td> <td><b>Redo</b></td>
</tr>
</table>

There is no limit of the number of copies which are placed in a temporary file,
 which name is written in log.txt.

<H3> <A NAME="zoom">Z</A>oom </H3>
You can use the mouse <b>Wheel</b> or move on the trackpad with two fingers or
use the keyboard <b>up</b> and <b>down</b> arrows.<br>
 Use <b>home</b> (Mac: <b>Fn + left</b>) to reset the zoom.

<br><A HREF="manual.html#home"><em>top</em></A>



<HR><H2> <A NAME="macro">M</A>acro </H2>

You can record any number of functions from the menus Augment, Remove, Dual/Angle, Algo, Orient, Generate and
UserMenu.<br>
These macros can be saved as text files.<br>
<!-- The functions   use the colors and thickness defined at the recording time.<br> -->
When you execute a macro, the recording is stopped but you can restart it.

<table>
<tr>
<td><IMG SRC="icones/macroplay.png" alt="macroplay"></td>
<td><b>Play macro</b></td>  
</tr>
</table>
If the first record is not a graph generator, the macro will start loading the next graph
of the current file.<br>
If the repeat macro value is 0, the macro will be repeated until you quit by typing
<b>ESC</b>, or if an error occurs.
<br><A HREF="manual.html#home"><em>top</em></A>

<HR><H2> <A NAME="3d">E</A>mbedding a graph  in space </H2> 
The user have the choice among the following distances:
<ul>
<li> Czekanovski-Dice has been shown effective for graph partitioning,</li>
<li> Bisect is such that the isometries of the graph are in a one to one correspondence with its
automorphisms,</li>
<li> Adjacence is not a Euclidean distance,</li>
<li> Adjacence M is a modification of the previous one and is Euclidean,</li>
<li> Laplacian is defined by the laplacian of the complemented graph and is Euclidean,</li>
<li> Oriented is a generalization to directed graphs of the Czekanovski-Dice distance,</li>
<li> R2 is the one used by the drawing in the editor an is used for experiments.</li>
</ul>
The axes <b>X</b>,<b>Y</b>,<b>Z</b> are respectively colored <b>Red</b>,<b>Green</b>,<b>Blue</b>
<H3><b>Mouse Action</b></H3>
<ul>
<li><b>Left button:</b>
 <ul>
  <li>Moving along X axis -&gt; Rotate around Y</li>
  <li>Moving along Y axis -&gt; Rotate around X</li>
  <li>Double Click -&gt; Start/Stop Rotate (depends on vertical slider)</li>
 </ul>
<li><b>Right button:</b></li> 
 <ul>
  <li>Moving along X axis -&gt; Rotate around Y</li>
  <li>Moving along Y axis -&gt; Rotate around Z</li>
 </ul>
 <li><b>Middle Button:</b>
 <ul>
  <li>Moving along X axis -&gt; Translate along X</li>
  <li>Moving along Y axis -&gt; Translate along Y</li>
 </ul>
 <li><b>Middle+Shift Button:</b> Translate along X and Z
 <ul>
  <li>Moving along X axis -&gt; Translate along X</li>
  <li>Moving along Y axis -&gt; Translate along Z</li>
 </ul>
<ul> 
<li><b>Wheel:</b> Zoom</li>
</ul>
</ul>
<H3><b>Trackpad</b></H3>

<ul>
<li>Moving along X axis -&gt; Rotate along Y</li>
<li>Moving along Y axis -&gt; Rotate along X</li>
<li><b>ALT +</b> Moving along X axis -&gt; Rotate along Z</li>
<li><b>SHIFT + </b>Moving along X axis -&gt; Translate along X</li>
<li><b>SHIFT + </b>Moving along Y axis -&gt; Translate along Y</li>
<li><b>COMMAND + </b>Moving along Y axis -&gt; Translate along Z</li>
</ul>
Mac <b>COMMAND</b> <-> Windows <b> CONTROL</b><br>
Mac <b>CONTROL</b> <-> Windows <b> ALT</b>

<H3>Other Interactions</H3>
<ul>
<li><b>Facet</b> button draw the facets if the graph is planar.</li>
<li><b>Label</b> button turns on/off vertices label.</li>
<li><b>Color</b> button turns on/off the original vertices color.</li>
<li><b>Fog</b> button turns on/off the fog.</li>
<li>the spin boxes <b>Ew</b> <b>Vw</b> set the width of edges and vertices.</li>
<li> the buttons <b>X</b> <b>Y</b> <b>Z</b> set the fixed axis for animation.</li>
<li>the three rightmost spin boxes <b>X</b> <b>Y</b> <b>Z</b> let you select the projection space.</li>
<li> the <b>left slider</b> sets the rotation speed around the chosen axis.</li>
<li>the <b>right slider</b> sets the transparency of the facets.</li>
</ul>
<br><A HREF="manual.html#home"><em>top</em></A>


<HR><H2> <A NAME="gen">G</A>enerating graphs </H2> 
The planar graph generators are based on the algorithms of Gilles Schaeffer.
They produce random planar graphs with prescribed properties.<br>
The size input of these algorithms is either the number of edges or the number of vertices.<br> 
The program automatically
 modified this value if unacceptable (e.g.  a cubic graph has a number
of edges  divisible by three).<br>
Depending on the prescribed properties, the algorithms, consume more or less memory and time.
To get reasonable performance, we allow the algorithms to generate graphs with slightly different size
than the prescribed one.<br>
Loops are always erased (1-connected graphs get less edges than asked).<br>
If the option <b> Erase multiple edges</b> is on, we erase multiple edges
after the generation process, therefore we do not maintain the degree property.
<br><A HREF="manual.html#home"><em>top</em></A>

<HR><H2> <A NAME="tgf">T</A>gf, GRAPHML and ASCII files </H2> 
We use a general proprietary format <b>TGF</b>.<br> 
A TGF file contains records, here corresponding to graphs.
Each record consisting of a variable number of fields.<br>
One of its main advantage is that we can write and read any complex data structure.
But it is dependent of the processor type (Low or High indian etc).<br><br>
We partially implemented  the <b>GRAPHML</b> file format (cf. http://graphml.graphdrawing.org/),
which is now the only way in <b>Pigale</b>to add text labels to the vertices<br><br>
We use a very simple <b>ASCII</b> file structure to store graphs. <br>
For example, the following file defines a graph called <tt>Triangle</tt> 
with three vertices labeled <tt>10,20,30</tt>
and three edges. The first 0 at the last line indicates the end of the list of edges,
the second one indicates the end of the graph data.
<tt><br><br>
PIG:0<br>
Triangle<br>
10 20<br>
20 30<br>
30 10<br>
0 0
</tt>
						    
<br><A HREF="manual.html#home"><em>top</em></A><br>
<!-- hhmts start -->
Last modified: 05/20/2019
<!-- hhmts end -->

</body>
</html> 
